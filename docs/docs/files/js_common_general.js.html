<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js\common\general.js - umweb-remote</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="umweb-remote" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/chat_panel.html">chat_panel</a></li>
                                <li><a href="../classes/ChatScrolling.html">ChatScrolling</a></li>
                                <li><a href="../classes/g_UserList.html">g_UserList</a></li>
                                <li><a href="../classes/generateEmulationUserData.html">generateEmulationUserData</a></li>
                                <li><a href="../classes/LoginWithOthers.html">LoginWithOthers</a></li>
                                <li><a href="../classes/MarqueeScroll.html">MarqueeScroll</a></li>
                                <li><a href="../classes/message_display.html">message_display</a></li>
                                <li><a href="../classes/persist.html">persist</a></li>
                                <li><a href="../classes/SendGift.html">SendGift</a></li>
                                <li><a href="../classes/SiteCommon.html">SiteCommon</a></li>
                                <li><a href="../classes/todoCode.html">todoCode</a></li>
                                <li><a href="../classes/User.html">User</a></li>
                                <li><a href="../classes/UserIdentity.html">UserIdentity</a></li>
                                <li><a href="../classes/userPopMenuMap.html">userPopMenuMap</a></li>
                                <li><a href="../classes/video_swf.html">video_swf</a></li>
                                <li><a href="../classes/window.SiteCommon.html">window.SiteCommon</a></li>
                                <li><a href="../classes/xchat_swf.html">xchat_swf</a></li>
                                <li><a href="../classes/xMessager.html">xMessager</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Controller.html">Controller</a></li>
                                <li><a href="../modules/Decorators.html">Decorators</a></li>
                                <li><a href="../modules/Form Objects.html">Form Objects</a></li>
                                <li><a href="../modules/Policy Objects.html">Policy Objects</a></li>
                                <li><a href="../modules/Query Objects.html">Query Objects</a></li>
                                <li><a href="../modules/Service Objects.html">Service Objects</a></li>
                                <li><a href="../modules/SiteCommon.html">SiteCommon</a></li>
                                <li><a href="../modules/Value Objects.html">Value Objects</a></li>
                                <li><a href="../modules/View Objects.html">View Objects</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: js\common\general.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Description: common modules
 *
 * @module SiteCommon
 * @class SiteCommon
 * @static
 */
window.SiteCommon = {
    renderPromptBox: function (data) {
        var ms = JSON.parse(data);
        jQuery(&quot;#returnmsg&quot;).html(ms.message);
        if (ms.error == 0) {
            jQuery(&quot;#tips02&quot;).click();
        } else {
            jQuery(&quot;#tips02&quot;).click();
        }
    },
    setChatDialog: function (jQueryele, func) {
        jQueryele.keypress(function (event) {
            if (event.which == 13) {
                func.call(this, jQueryele);
            }
        });
    },
    /**
     *  @method isMaxUserName
      * @param begin 截取开始的索引
      * @param num 截取的长度
      */
    regTraditional: /[^\x00-\xFF]/,
    substrTrad: function (txt, begin, num) {
        var ascRegexp = this.regTraditional, i = 0;
        while (i &lt; begin) (i++ &amp;&amp; this.charAt(i).match(ascRegexp) &amp;&amp; begin--);
        i = begin;
        var end = begin + num;
        while (i &lt; end) (i++ &amp;&amp; txt.charAt(i).match(ascRegexp) &amp;&amp; end--);
        return txt.substring(begin, end);
    },
    isLessMinInput: function (txt, minNum) {
        minNum = minNum || 2;
        var minLen = minNum;
        var actualLen = len = txt.length;
        if (len &lt; minLen) {
            for (var i = 0; i &lt; len; i++) {
                var val = txt.charAt(i);
                if (this.regTraditional.test(val)) {
                    actualLen++;
                }
            }
        }
        return actualLen &lt; minLen
    },
    setMaxInput: function (jQueryinput) {
        jQueryinput.keyup(function (event) {
            var txt = jQuery(this).val();
            if (/^\d+jQuery/.test(txt)) {
                jQuery(&#x27;.erroTipInfor&#x27;).text(&#x27;用户名不能全部为数字&#x27;)
            } else {
                jQuery(&#x27;.erroTipInfor&#x27;).text(&#x27;&#x27;)
            }
            var maxLen = 16
            if (txt.length &gt; maxLen / 2) {
                jQuery(this).val(SiteCommon.substrTrad(txt, 0, maxLen - 1))
            }
        })
    }
}
/*二级页面左侧导航*/
jQuery(function () {
    var menuSide = jQuery(&quot;.menuSide&quot;);
    if (menuSide) {
        jQuery(&quot;.menuSide dl&quot;).each(function (index) {
            var dds = jQuery(this).find(&quot;dd&quot;).length;
            var dlDefaultHeight = 35;
            var dtDefaultHeight = 35;
            jQuery(this).css({&quot;height&quot;: dlDefaultHeight});
            var className = jQuery(this).hasClass(&quot;current&quot;);
            if (className) {
                jQuery(this).animate({&quot;height&quot;: dds * dlDefaultHeight + dtDefaultHeight});
            }
            ;
            jQuery(this).click(function (event) {
                var ddLength = jQuery(this).find(&quot;dd&quot;).length;
                jQuery(this).animate({&quot;height&quot;: ddLength * 35 + dtDefaultHeight}).siblings().animate({&quot;height&quot;: dtDefaultHeight});
            });
        });
    }
});
function pos(obj) {
    var lt = {&quot;left&quot;: 0, &quot;top&quot;: 0};
    while (obj) {
        lt.left += obj.offsetLeft;
        lt.top += obj.offsetTop;
        obj = obj.offsetParent;
    }
    ;
    return lt;
}
//viewWH()
function viewWH() {
    var wh = {&#x27;width&#x27;: &#x27;&#x27;, &#x27;height&#x27;: &#x27;&#x27;};
    wh.width = jQuery(window).width();
    wh.height = jQuery(window).height();
    return wh;
};
//scrollLT
function scrollLT() {
    var lt = {&#x27;left&#x27;: &#x27;&#x27;, &#x27;top&#x27;: &#x27;&#x27;};
    lt.left = document.body.scrollLeft || document.documentElement.scrollLeft;
    lt.top = document.body.scrollTop || document.documentElement.scrollTop;
    return lt;
};
/* 登陆注册层 */

jQuery(function () {
    SiteCommon.setChatDialog(jQuery(&#x27;.controlGroup input&#x27;), function (data) {
        jQuery(&#x27;.pubLinks:visible&#x27;).click()
    })
});
function viewWH() {
    var wh = {&#x27;width&#x27;: &#x27;&#x27;, &#x27;height&#x27;: &#x27;&#x27;};
    wh.width = jQuery(window).width();
    wh.height = jQuery(window).height();
    return wh;
};
var srcPx = jQuery(document).scrollTop();
//弹框插件
jQuery(function () {
    //对象+命名空间
    jQuery.fn.windowOpen = function (options) {
        //默认值
        var defaults = {
            &quot;clickEle&quot;: &quot;loginReward&quot;,
            &quot;popEle&quot;: &quot;loginRewardPop&quot;,
            callback:jQuery.noop
        }
        //合并默认值与参数
        var options = jQuery.extend(defaults, options);
        //操作代码
        this.each(function () {
            //生命动画变量
            var This = jQuery(this);
            var clickEle = &quot;#&quot; + options.clickEle;
            var popEle = &quot;#&quot; + options.popEle;
            var popClose = jQuery(popEle).find(&quot;h2 a,.pinkBtn&quot;);
            var popEleH = jQuery(popEle).innerHeight();
            var popEleW = jQuery(popEle).innerWidth();
            jQuery(clickEle).click(function () {
                var posTop = (viewWH().height - popEleH) / 2 + srcPx;
                var posLeft = -(popEleW / 2)
                jQuery(&quot;.windowOpen&quot;).css({&quot;display&quot;: &quot;none&quot;});
                jQuery(&quot;.masterEle&quot;).height(document.body.scrollHeight);
                jQuery(&#x27;.erroTipInfor&#x27;).text(&#x27;&#x27;)
                jQuery(&quot;.masterEle&quot;).show();
                jQuery(popEle).css({&quot;display&quot;: &quot;block&quot;, &quot;top&quot;: posTop, &quot;marginLeft&quot;: posLeft});
            });
            jQuery(popClose).click(function () {
                jQuery(popEle).css({&quot;display&quot;: &quot;none&quot;});
                jQuery(&quot;.masterEle&quot;).hide();
                options.callback()
            });
            jQuery(window).scroll(function () {
                resizeEle();
            });
            jQuery(window).resize(function () {
                resizeEle();
            });
            function resizeEle() {
                srcPx = jQuery(document).scrollTop();
                jQuery(popEle).css({&quot;top&quot;: srcPx + (viewWH().height - popEleH) / 2});
            }
        });
    }
});
jQuery(function () {
    //提示01
    jQuery(&quot;#tips01&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips01&quot;,
        &quot;popEle&quot;: &quot;tips01Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips02&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips02&quot;,
        &quot;popEle&quot;: &quot;tips02Pop&quot;
    });
    //提示03
    jQuery(&quot;#tips03&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips03&quot;,
        &quot;popEle&quot;: &quot;tips03Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips04&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips04&quot;,
        &quot;popEle&quot;: &quot;tips04Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips05&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips05&quot;,
        &quot;popEle&quot;: &quot;tips05Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips06&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips06&quot;,
        &quot;popEle&quot;: &quot;tips06Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips07&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips07&quot;,
        &quot;popEle&quot;: &quot;tips07Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips08&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips08&quot;,
        &quot;popEle&quot;: &quot;tips08Pop&quot;
    });
    //提示02
    jQuery(&quot;#tips09&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tips09&quot;,
        &quot;popEle&quot;: &quot;tips09Pop&quot;
    });
    //注册
    jQuery(&quot;#registerBox&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;registerBox&quot;,
        &quot;popEle&quot;: &quot;registerPop&quot;
    });
    //注册成功
    jQuery(&quot;#registerokBox&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;registerokBox&quot;,
        &quot;popEle&quot;: &quot;registerokPop&quot;,
        callback: function func() {
            location.reload()
        }
    });
    //登录
    jQuery(&quot;#loginBox&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;loginBox&quot;,
        &quot;popEle&quot;: &quot;loginPop&quot;
    });
    //girl
    jQuery(&quot;#girlBox&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;girlBox&quot;,
        &quot;popEle&quot;: &quot;girlPop&quot;
    });
    //remark
    jQuery(&quot;#tdBox&quot;).windowOpen({
        &quot;clickEle&quot;: &quot;tdBox&quot;,
        &quot;popEle&quot;: &quot;tdPop&quot;
    });
})
SiteCommon.setMaxInput(jQuery(&#x27;#regusername&#x27;));
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
